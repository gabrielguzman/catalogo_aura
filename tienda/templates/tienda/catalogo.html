{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura de Jazmín | Boutique</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/595/595539.png" type="image/png">

    <style>
        :root {
            --color-rosa: #E6A4B4;
            --color-celeste: #D3E0EA;
            --color-marron: #5D4037;
            --color-crema: #FDFBF7;
            --color-blanco: #FFFFFF;
            --color-negro: #1A1A1A;
        }

        body { font-family: 'Raleway', sans-serif; background-color: var(--color-crema); color: var(--color-negro); overflow-x: hidden; }
        h1, h2, h3, h4, .fuente-serif { font-family: 'Cormorant Garamond', serif; }

        /* NAVBAR */
        .navbar { background-color: var(--color-crema); padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.02); }
        .navbar-brand { font-family: 'Cormorant Garamond', serif; font-size: 1.7rem; font-weight: 700; letter-spacing: 1px; color: var(--color-marron) !important; text-transform: uppercase; display: flex; align-items: center; }
        .nav-link { text-transform: uppercase; font-size: 0.75rem; letter-spacing: 2px; color: var(--color-marron) !important; font-weight: 600; margin: 0 10px; }

        /* HERO */
        .hero-wrap { display: flex; flex-wrap: wrap; min-height: 85vh; }
        .hero-text { flex: 1; padding: 50px; display: flex; flex-direction: column; justify-content: center; background-color: var(--color-celeste); min-width: 320px; }
        .hero-image { flex: 1; background: url('https://images.unsplash.com/photo-1551232864-3f0890e580d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') center/cover no-repeat; min-width: 320px; min-height: 400px; }
        .titulo-grande { font-size: 4.5rem; line-height: 0.9; color: var(--color-marron); margin-bottom: 25px; }
        .btn-aura { display: inline-block; padding: 15px 45px; border: 1px solid var(--color-marron); color: var(--color-marron); text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem; font-weight: 600; text-decoration: none; transition: all 0.4s ease; background: transparent; width: fit-content; }
        .btn-aura:hover { background-color: var(--color-rosa); border-color: var(--color-rosa); color: var(--color-blanco); }

        /* BENEFICIOS PREMIUM */
        .features-wrapper { background-color: var(--color-blanco); border-radius: 20px; box-shadow: 0 15px 40px rgba(93, 64, 55, 0.08); position: relative; z-index: 10; }
        .icon-circle { width: 70px; height: 70px; background-color: rgba(230, 164, 180, 0.15); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--color-marron); font-size: 1.5rem; transition: transform 0.3s ease; }
        .features-wrapper:hover .icon-circle { transform: scale(1.1); background-color: var(--color-rosa); color: white; }
        .feature-title { font-family: 'Cormorant Garamond', serif; font-weight: 700; letter-spacing: 0.5px; color: var(--color-marron); font-size: 1.1rem; }
        @media (min-width: 768px) { .border-start-md { border-left: 1px solid rgba(0,0,0,0.05); } }

        /* FILTROS */
        .filters-area { padding: 60px 0 30px; text-align: center; }
        .filter-btn { background: none; border: none; margin: 0 10px; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 2px; color: #999; padding-bottom: 5px; transition: 0.3s; text-decoration: none; cursor: pointer; }
        .filter-btn.active, .filter-btn:hover { color: var(--color-marron); border-bottom: 2px solid var(--color-rosa); }

        /* CARDS */
        .product-card { border: none; background: transparent; margin-bottom: 40px; transition: transform 0.3s; }
        .product-card:hover { transform: translateY(-5px); }
        .card-img-wrap { position: relative; overflow: hidden; background-color: #f0f0f0; aspect-ratio: 3/4; cursor: pointer; }
        .card-img-top { width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s ease; }
        .product-card:hover .card-img-top { transform: scale(1.08); }
        
        .price-badge { position: absolute; top: 15px; right: 15px; background-color: var(--color-blanco); color: var(--color-marron); padding: 5px 12px; font-weight: 700; font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .card-body { padding: 20px 0; text-align: center; }
        .card-title { font-size: 1.2rem; color: var(--color-marron); margin-bottom: 8px; }
        .btn-shop-sm { color: var(--color-negro); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; text-decoration: none; border-bottom: 1px solid #ccc; padding-bottom: 2px; transition: 0.3s; }
        .btn-shop-sm:hover { color: var(--color-rosa); border-color: var(--color-rosa); }

        /* NEWSLETTER */
        .newsletter-section { background-color: var(--color-rosa); padding: 80px 0; text-align: center; color: var(--color-blanco); }
        .newsletter-input { border: none; padding: 15px 20px; width: 100%; max-width: 400px; margin-right: 10px; border-radius: 0; }
        .btn-newsletter { background-color: var(--color-marron); color: var(--color-blanco); border: none; padding: 15px 30px; text-transform: uppercase; letter-spacing: 1px; font-size: 0.8rem; margin-top: 10px; }

        /* FOOTER */
        footer { background-color: var(--color-marron); color: var(--color-crema); padding: 70px 0 30px; font-size: 0.9rem; }
        footer h5 { color: var(--color-rosa); margin-bottom: 20px; letter-spacing: 1px; font-size: 1.2rem; }
        footer a { color: var(--color-celeste); text-decoration: none; transition: 0.3s; }
        footer a:hover { color: var(--color-rosa); }

        /* WHATSAPP */
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); } 100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); } }
        .wa-float { position: fixed; bottom: 30px; right: 30px; background-color: #25D366; color: white; width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 35px; z-index: 9999; box-shadow: 0 4px 10px rgba(0,0,0,0.3); transition: all 0.3s ease; text-decoration: none; animation: pulse-green 2s infinite; }
        .wa-float:hover { transform: scale(1.1); color: white; background-color: #128C7E; }

        @media (max-width: 768px) { .hero-wrap { flex-direction: column-reverse; } .hero-text { padding: 40px 20px; text-align: center; align-items: center; } .hero-image { min-height: 50vh; } .titulo-grande { font-size: 3rem; } .newsletter-input { margin-bottom: 10px; } .navbar-brand { font-size: 1.3rem; } }
    </style>
</head>
<body>

    <div class="alert alert-dismissible fade show text-center mb-0 rounded-0" role="alert" 
         style="background-color: var(--color-marron); color: var(--color-crema); border: none; font-size: 0.85rem; letter-spacing: 1px; position: relative; z-index: 1050;">
        <i class="fas fa-gift me-2" style="color: var(--color-rosa);"></i>
        <strong>¡SALE DE INVIERNO!</strong> 3 Cuotas Sin Interés + Envío Gratis superando $80.000
        <button type="button" class="btn-close btn-close-white shadow-none" data-bs-dismiss="alert" aria-label="Close" style="opacity: 1;"></button>
    </div>

    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-spa me-2" style="color: var(--color-rosa);"></i>
                Aura de Jazmín
            </a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navContent">
                <i class="fas fa-bars" style="color: var(--color-marron);"></i>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navContent">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#catalogo">Catálogo</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'contacto' %}">Contacto</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'nosotros' %}">Nosotros</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid p-0">
        <div class="hero-wrap">
            <div class="hero-text" data-aos="fade-right">
                {% if portada %}
                    <h1 class="titulo-grande fuente-serif">{{ portada.titulo|safe }}</h1>
                    {% if portada.subtitulo %}
                        <p class="lead mb-4" style="color: var(--color-marron);">{{ portada.subtitulo }}</p>
                    {% endif %}
                    <a href="#catalogo" class="btn-aura">{{ portada.texto_boton }}</a>
                {% else %}
                    <h1 class="titulo-grande fuente-serif">Tu Estilo, <br><em>Tu Aura</em></h1>
                    <a href="#catalogo" class="btn-aura">Ver Productos</a>
                {% endif %}
            </div>
            <div class="hero-image" data-aos="fade-left" 
                 style="background-image: url('{% if portada and portada.imagen %}{{ portada.imagen.url }}{% else %}https://images.unsplash.com/photo-1551232864-3f0890e580d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80{% endif %}');">
            </div>
        </div>
    </div>

    <div class="container mt-5">
        <form action="{% url 'catalogo' %}" method="GET" class="d-flex justify-content-center">
            <div class="input-group" style="max-width: 500px;">
                <input type="text" name="q" class="form-control border-end-0" placeholder="¿Qué estás buscando? (Ej: Vestido lino)" style="border-color: var(--color-marron); padding: 12px;">
                <button class="btn" type="submit" style="background-color: var(--color-marron); color: white; border-radius: 0 5px 5px 0;">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </form>
    </div>

    <div class="container mt-5 mb-5">
        <div class="features-wrapper p-4 p-md-5" data-aos="fade-up">
            <div class="row g-4 text-center">
                <div class="col-md-4 d-flex flex-column align-items-center">
                    <div class="icon-circle mb-3"><i class="fas fa-truck"></i></div>
                    <h5 class="feature-title mb-1">Envíos a todo el país</h5>
                    <p class="text-muted small mb-0">Recibí tu pedido en la puerta de tu casa.</p>
                </div>
                <div class="col-md-4 d-flex flex-column align-items-center border-start-md">
                    <div class="icon-circle mb-3"><i class="far fa-credit-card"></i></div>
                    <h5 class="feature-title mb-1">3 Cuotas sin interés</h5>
                    <p class="text-muted small mb-0">Con todas las tarjetas bancarias.</p>
                </div>
                <div class="col-md-4 d-flex flex-column align-items-center border-start-md">
                    <div class="icon-circle mb-3"><i class="fas fa-gem"></i></div>
                    <h5 class="feature-title mb-1">Calidad Premium</h5>
                    <p class="text-muted small mb-0">Telas seleccionadas y diseño exclusivo.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container" id="catalogo">
        
        <div class="filters-area">
            {% for cat in categorias %}
                <a href="{% url 'productos_por_categoria' cat.slug %}" 
                   class="filter-btn {% if category.slug == cat.slug %}active{% endif %}">
                    {{ cat.nombre }}
                </a>
            {% endfor %}
        </div>

        <div class="row mb-4 align-items-center" data-aos="fade-in">
            <div class="col-6">
                <p class="text-muted mb-0 small text-uppercase" style="letter-spacing: 1px;">
                    Mostrando {{ productos.start_index }}-{{ productos.end_index }} de {{ productos.paginator.count }} prendas
                </p>
            </div>
            <div class="col-6 text-end">
                <form id="formOrden" method="GET" action=".">
                    {% if category %}<input type="hidden" name="categoria" value="{{ category.slug }}">{% endif %}
                    {% if request.GET.q %}<input type="hidden" name="q" value="{{ request.GET.q }}">{% endif %}
                    <div class="d-inline-block position-relative">
                        <select name="orden" class="form-select form-select-sm border-0 bg-transparent text-end pe-5" 
                                style="cursor: pointer; color: var(--color-marron); font-weight: 600;"
                                onchange="document.getElementById('formOrden').submit()">
                            <option value="nuevos" {% if request.GET.orden == 'nuevos' %}selected{% endif %}>Más Nuevos</option>
                            <option value="min_precio" {% if request.GET.orden == 'min_precio' %}selected{% endif %}>Precio: Bajo a Alto</option>
                            <option value="max_precio" {% if request.GET.orden == 'max_precio' %}selected{% endif %}>Precio: Alto a Bajo</option>
                        </select>
                        <i class="fas fa-chevron-down position-absolute top-50 end-0 translate-middle-y me-2" style="font-size: 0.7rem; pointer-events: none; color: var(--color-marron);"></i>
                    </div>
                </form>
            </div>
        </div>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5">
            {% for producto in productos %}
            <div class="col" data-aos="fade-up" data-aos-duration="1000">
                <div class="product-card">
                    
                    <div class="card-img-wrap" data-bs-toggle="modal" data-bs-target="#modalProducto{{ producto.id }}">
                        
                        {% if producto.stock == 0 %}
                            <div class="position-absolute w-100 h-100 d-flex align-items-center justify-content-center" 
                                 style="background: rgba(255,255,255,0.7); z-index: 20; top: 0; left: 0;">
                                <span class="badge bg-secondary text-uppercase px-3 py-2" style="font-size: 1rem; letter-spacing: 2px;">AGOTADO</span>
                            </div>
                        {% elif producto.stock <= 3 %}
                            <span class="badge bg-warning text-dark position-absolute bottom-0 start-0 m-3" 
                                  style="z-index:15; border-radius: 0; font-size: 0.75rem;">¡ÚLTIMAS {{ producto.stock }}!</span>
                        {% endif %}

                        {% if producto.stock > 0 and producto.precio_anterior and producto.precio_anterior > producto.precio %}
                            <span class="badge bg-danger text-white position-absolute top-0 end-0 m-3" 
                                  style="z-index:10; border-radius: 0; font-size: 0.8rem;">
                                -{{ producto.get_descuento }}% OFF
                            </span>
                            <span class="price-badge bg-danger text-white border-0">${{ producto.precio }}</span>
                        {% else %}
                            <span class="price-badge">${{ producto.precio }}</span>
                        {% endif %}

                        {% if producto.es_nuevo %}
                            <span class="badge bg-dark text-white position-absolute start-0 top-0 m-3" style="z-index:10; border-radius: 0; letter-spacing: 1px;">NUEVO</span>
                        {% endif %}
                        
                        {% if producto.imagen %}
                            <img src="{{ producto.imagen.url }}" class="card-img-top" alt="{{ producto.nombre }}">
                        {% else %}
                            <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&w=500&q=60" class="card-img-top">
                        {% endif %}
                    </div>
                    
                    <div class="card-body">
                        <h3 class="card-title fuente-serif">{{ producto.nombre }}</h3>
                        <button class="btn-shop-sm border-0 bg-transparent" data-bs-toggle="modal" data-bs-target="#modalProducto{{ producto.id }}">
                            {% if producto.stock == 0 %}Ver disponibilidad{% else %}Ver detalles{% endif %}
                        </button>
                    </div>

                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <p class="text-muted">No encontramos prendas con esa descripción.</p>
                <a href="{% url 'catalogo' %}" class="btn-shop-sm">Ver todo</a>
            </div>
            {% endfor %}
        </div>
        
        {% if productos.has_other_pages %}
            <div class="row mt-5" data-aos="fade-up">
                <div class="col-12 d-flex justify-content-center">
                    <nav aria-label="Navegación del catálogo">
                        <ul class="pagination">
                            {% if productos.has_previous %}
                                <li class="page-item">
                                    <a class="page-link border-0 text-muted" href="?page={{ productos.previous_page_number }}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}" aria-label="Anterior">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                            {% endif %}
                            {% for i in productos.paginator.page_range %}
                                {% if productos.number == i %}
                                    <li class="page-item active" aria-current="page"><span class="page-link border-0" style="background-color: var(--color-marron); color: white;">{{ i }}</span></li>
                                {% else %}
                                    <li class="page-item"><a class="page-link border-0" style="color: var(--color-marron);" href="?page={{ i }}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">{{ i }}</a></li>
                                {% endif %}
                            {% endfor %}
                            {% if productos.has_next %}
                                <li class="page-item">
                                    <a class="page-link border-0 text-muted" href="?page={{ productos.next_page_number }}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}" aria-label="Siguiente">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                            {% endif %}
                        </ul>
                    </nav>
                </div>
            </div>
        {% endif %}

    </div> <div class="py-5 mt-5" style="background-color: #FDFBF7;">
        <div class="container text-center">
            <h2 class="fuente-serif mb-5" style="color: var(--color-marron);">Ellas ya eligieron su Aura</h2>
            <div id="carruselTestimonios" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="d-flex justify-content-center">
                            <div class="col-md-8">
                                <i class="fas fa-quote-left fa-2x mb-3" style="color: var(--color-rosa);"></i>
                                <p class="lead" style="font-style: italic; color: #555;">"La calidad del lino es increíble. ¡Definitivamente vuelvo a comprar!"</p>
                                <h5 class="fuente-serif mt-3" style="color: var(--color-marron);">— Sofía M.</h5>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="d-flex justify-content-center">
                            <div class="col-md-8">
                                <i class="fas fa-quote-left fa-2x mb-3" style="color: var(--color-rosa);"></i>
                                <p class="lead" style="font-style: italic; color: #555;">"Tenía dudas con el talle y me asesoraron súper bien."</p>
                                <h5 class="fuente-serif mt-3" style="color: var(--color-marron);">— Camila R.</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carruselTestimonios" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" style="filter: invert(1);" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carruselTestimonios" data-bs-slide="next">
                    <span class="carousel-control-next-icon" style="filter: invert(1);" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <section class="newsletter-section">
        <div class="container">
            <h2 class="fuente-serif mb-3">Únete al Club Aura</h2>
            <p class="mb-4">Recibe descuentos exclusivos y novedades antes que nadie.</p>
            <div class="d-flex justify-content-center flex-wrap">
                <input type="email" class="newsletter-input" placeholder="Tu correo electrónico">
                <button class="btn-newsletter">Suscribirse</button>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5 class="fuente-serif"><i class="fas fa-spa me-2"></i> AURA DE JAZMÍN</h5>
                    <p class="small text-white-50">Moda consciente inspirada en la naturaleza.</p>
                </div>
                <div class="col-md-4 mb-4 text-md-center">
                    <h5 class="fuente-serif">AYUDA</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">Guía de Talles</a></li>
                        <li><a href="#">Política de Cambios</a></li>
                    </ul>
                </div>
                <div class="col-md-4 text-md-end">
                    <h5 class="fuente-serif">SÍGUENOS</h5>
                    <div class="fs-5">
                        <a href="#" class="me-3"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook"></i></a>
                    </div>
                </div>
            </div>
            <div class="text-center mt-5 pt-3 border-top border-secondary">
                <small class="text-white-50">&copy; 2024 Aura de Jazmín. Buenos Aires.</small>
            </div>
        </div>
    </footer>

    <a href="https://wa.me/5491100000000" class="wa-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    {% for producto in productos %}
    <div class="modal fade" id="modalProducto{{ producto.id }}" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl"> 
            <div class="modal-content" style="border-radius: 0; border: none; overflow: hidden;">
                
                <div class="row g-0">
                    
                    <div class="col-lg-6 bg-light d-flex align-items-center justify-content-center p-3">
                        {% if producto.es_nuevo %}
                            <span class="badge bg-dark text-white position-absolute top-0 start-0 m-4 py-2 px-3" style="z-index: 10; letter-spacing: 2px; border-radius: 0;">NUEVO</span>
                        {% endif %}

                        {% if producto.imagen %}
                            <img src="{{ producto.imagen.url }}" class="img-fluid" style="max-height: 70vh; width: auto; box-shadow: 0 5px 15px rgba(0,0,0,0.05); {% if producto.stock == 0 %}filter: grayscale(100%); opacity: 0.6;{% endif %}" alt="{{ producto.nombre }}">
                        {% else %}
                            <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&w=500&q=60" class="img-fluid" style="max-height: 70vh; width: auto;" alt="Sin imagen">
                        {% endif %}
                    </div>

                    <div class="col-lg-6 p-5 bg-white d-flex flex-column justify-content-center position-relative">
                        
                        <button type="button" class="btn-close position-absolute top-0 end-0 m-4" data-bs-dismiss="modal" aria-label="Close"></button>

                        <div class="text-uppercase text-muted small mb-2" style="letter-spacing: 2px;">
                            {{ producto.categoria.nombre|default:"Colección Aura" }}
                        </div>

                        <h2 class="fuente-serif display-5 mb-3" style="color: var(--color-marron);">{{ producto.nombre }}</h2>

                        <div class="d-flex align-items-center mb-4">
                            {% if producto.precio_anterior and producto.precio_anterior > producto.precio %}
                                <span class="display-6 me-3 text-danger" style="font-weight: 600;">${{ producto.precio }}</span>
                                <span class="text-muted text-decoration-line-through fs-5 me-3">${{ producto.precio_anterior }}</span>
                            {% else %}
                                <span class="display-6 me-3" style="font-weight: 500;">${{ producto.precio }}</span>
                            {% endif %}

                            {% if producto.stock > 0 %}
                                <span class="badge rounded-pill bg-success bg-opacity-10 text-success border border-success px-3">
                                    <i class="fas fa-check-circle me-1"></i> En Stock
                                </span>
                            {% else %}
                                <span class="badge rounded-pill bg-secondary bg-opacity-10 text-secondary border border-secondary px-3">
                                    <i class="fas fa-times-circle me-1"></i> Agotado
                                </span>
                            {% endif %}
                        </div>

                        <hr class="text-muted opacity-25 mb-4">

                        <p class="text-muted mb-4" style="line-height: 1.8; font-size: 1.05rem;">
                            {{ producto.descripcion|default:"Prenda de diseño exclusivo." }}
                        </p>

                        {% if producto.talles %}
                        <div class="mb-5">
                            <small class="text-uppercase fw-bold text-dark d-block mb-2">Talles:</small>
                            <span class="border border-secondary px-4 py-2 text-dark d-inline-block">
                                {{ producto.talles }}
                            </span>
                        </div>
                        {% endif %}

                        {% if producto.stock > 0 %}
                            <a href="https://wa.me/5491100000000?text=Hola Aura! Quiero comprar: {{ producto.nombre }}" 
                               target="_blank"
                               class="btn-aura w-100 text-center py-3" 
                               style="background-color: var(--color-marron); color: white; letter-spacing: 2px;">
                                QUIERO COMPRARLO <i class="fab fa-whatsapp ms-2"></i>
                            </a>
                            
                            {% if producto.stock <= 3 %}
                                <div class="text-center mt-2">
                                    <small class="text-danger fw-bold animation-pulse">
                                        <i class="fas fa-fire"></i> ¡Apúrate! Solo quedan {{ producto.stock }} unidades.
                                    </small>
                                </div>
                            {% endif %}
                        {% else %}
                            <button class="btn btn-secondary w-100 py-3 text-uppercase" disabled style="letter-spacing: 2px; cursor: not-allowed; opacity: 0.6;">
                                Producto Agotado
                            </button>
                            <div class="text-center mt-3">
                                <a href="https://wa.me/5491100000000?text=Hola Aura, vi que el {{ producto.nombre }} está agotado. ¿Cuándo vuelve?" 
                                   class="text-muted small text-decoration-underline">
                                    Avísame cuando vuelva
                                </a>
                            </div>
                        {% endif %}

                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>
</html>